(()=>{function e(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return t[o].call(i.exports,i,i.exports,e),i.exports}var t={588:(e,t)=>{var n;!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}var r={}.hasOwnProperty;e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},454:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(559),t),r(n(433),t)},944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(\.\d+)?([zZ]|((\+|-)(\d{2}):(\d{2})))$/;t.default=function(e){const t=e.match(n);if(null===t)return!1;const r=parseInt(t[1],10),i=parseInt(t[2],10),a=parseInt(t[3],10),s=parseInt(t[4],10),l=parseInt(t[5],10),c=parseInt(t[6],10);return!(i>12)&&(!(a>function(e,t){if(2===t)return function(e){return e%4==0&&(e%100!=0||e%400==0)}(e)?29:28;return o[t]}(r,i))&&(!(s>23)&&(!(l>59)&&!(c>60))))};const o=[0,31,0,31,30,31,30,31,31,30,31,30,31]},559:function(e,t){"use strict";function n(e){return"ref"in e}function o(e){return"enum"in e}function r(e){return"elements"in e}function i(e){return"properties"in e||"optionalProperties"in e}function a(e){return"values"in e}function s(e){return"discriminator"in e}var l=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.isSchema=t.isValidSchema=t.isDiscriminatorForm=t.isValuesForm=t.isPropertiesForm=t.isElementsForm=t.isEnumForm=t.isTypeForm=t.isRefForm=t.isEmptyForm=void 0,t.isEmptyForm=function(e){const t=l(e,["definitions","nullable","metadata"]);return 0===Object.keys(t).length},t.isRefForm=n,t.isTypeForm=function(e){return"type"in e},t.isEnumForm=o,t.isElementsForm=r,t.isPropertiesForm=i,t.isValuesForm=a,t.isDiscriminatorForm=s,t.isValidSchema=function e(t,l){if(void 0===l&&(l=t),void 0!==t.definitions){if(l!==t)return!1;for(const n of Object.values(t.definitions))if(!e(n,l))return!1}if(n(t)&&!(t.ref in(l.definitions||{})))return!1;if(o(t)){if(0===t.enum.length)return!1;if(t.enum.length!==new Set(t.enum).size)return!1}if(r(t))return e(t.elements,l);if(i(t)){for(const n of Object.values(t.properties||{}))if(!e(n,l))return!1;for(const n of Object.values(t.optionalProperties||{}))if(!e(n,l))return!1;for(const e of Object.keys(t.properties||{}))if(e in(t.optionalProperties||{}))return!1}if(a(t))return e(t.values,l);if(s(t))for(const n of Object.values(t.mapping)){if(!e(n,l)||!i(n))return!1;if(n.nullable)return!1;if(t.discriminator in(n.properties||{}))return!1;if(t.discriminator in(n.optionalProperties||{}))return!1}return!0};const c=[[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!1,!1,!0,!1,!0,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!1,!1],[!1,!1,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0]],u=["boolean","float32","float64","int8","uint8","int16","uint16","int32","uint32","string","timestamp"];t.isSchema=function e(t){if("object"!=typeof t||Array.isArray(t)||null===t)return!1;const n=t,{definitions:o,nullable:r,metadata:i,ref:a,type:s,enum:_,elements:f,properties:p,optionalProperties:v,additionalProperties:d,values:h,discriminator:m,mapping:y}=n,g=l(n,["definitions","nullable","metadata","ref","type","enum","elements","properties","optionalProperties","additionalProperties","values","discriminator","mapping"]),b=[void 0!==a,void 0!==s,void 0!==_,void 0!==f,void 0!==p,void 0!==v,void 0!==d,void 0!==h,void 0!==m,void 0!==y];let k=!1;for(const e of c)k=k||e.every(((e,t)=>e===b[t]));if(!k)return!1;if(void 0!==o){if("object"!=typeof o||Array.isArray(o)||null===o)return!1;for(const t of Object.values(o))if(!e(t))return!1}if(void 0!==r&&"boolean"!=typeof r)return!1;if(void 0!==i&&("object"!=typeof i||Array.isArray(i)||null===i))return!1;if(void 0!==a&&"string"!=typeof a)return!1;if(void 0!==s&&("string"!=typeof s||!u.includes(s)))return!1;if(void 0!==_){if(!Array.isArray(_))return!1;if(!_.every((e=>"string"==typeof e)))return!1}if(void 0!==f&&!e(f))return!1;if(void 0!==p){if("object"!=typeof p||Array.isArray(p)||null===p)return!1;for(const t of Object.values(p))if(!e(t))return!1}if(void 0!==v){if("object"!=typeof v||Array.isArray(v)||null===v)return!1;for(const t of Object.values(v))if(!e(t))return!1}if(void 0!==d&&"boolean"!=typeof d)return!1;if(void 0!==h&&!e(h))return!1;if(void 0!==m&&"string"!=typeof m)return!1;if(void 0!==y){if("object"!=typeof y||Array.isArray(y)||null===y)return!1;for(const t of Object.values(y))if(!e(t))return!1}return 0===Object.keys(g).length}},433:function(e,t,n){"use strict";function o(e,t,n,u){if(!t.nullable||null!==n)if(f.isRefForm(t)){if(e.schemaTokens.length===e.config.maxDepth)throw new p;e.schemaTokens.push(["definitions",t.ref]),o(e,e.root.definitions[t.ref],n),e.schemaTokens.pop()}else if(f.isTypeForm(t)){switch(s(e,"type"),t.type){case"boolean":"boolean"!=typeof n&&c(e);break;case"float32":case"float64":"number"!=typeof n&&c(e);break;case"int8":r(e,n,-128,127);break;case"uint8":r(e,n,0,255);break;case"int16":r(e,n,-32768,32767);break;case"uint16":r(e,n,0,65535);break;case"int32":r(e,n,-2147483648,2147483647);break;case"uint32":r(e,n,0,4294967295);break;case"string":"string"!=typeof n&&c(e);break;case"timestamp":"string"!=typeof n?c(e):_.default(n)||c(e)}l(e)}else if(f.isEnumForm(t))s(e,"enum"),"string"==typeof n&&t.enum.includes(n)||c(e),l(e);else if(f.isElementsForm(t)){if(s(e,"elements"),Array.isArray(n))for(const[r,s]of n.entries())i(e,r.toString()),o(e,t.elements,s),a(e);else c(e);l(e)}else if(f.isPropertiesForm(t))if("object"!=typeof n||null===n||Array.isArray(n))s(e,void 0!==t.properties?"properties":"optionalProperties"),c(e),l(e);else{if(void 0!==t.properties){s(e,"properties");for(const[r,u]of Object.entries(t.properties))s(e,r),n.hasOwnProperty(r)?(i(e,r),o(e,u,n[r]),a(e)):c(e),l(e);l(e)}if(void 0!==t.optionalProperties){s(e,"optionalProperties");for(const[r,c]of Object.entries(t.optionalProperties))s(e,r),n.hasOwnProperty(r)&&(i(e,r),o(e,c,n[r]),a(e)),l(e);l(e)}if(!0!==t.additionalProperties)for(const o of Object.keys(n)){const n=t.optionalProperties&&o in t.optionalProperties;t.properties&&o in t.properties||n||o===u||(i(e,o),c(e),a(e))}}else if(f.isValuesForm(t)){if(s(e,"values"),"object"!=typeof n||null===n||Array.isArray(n))c(e);else for(const[r,s]of Object.entries(n))i(e,r),o(e,t.values,s),a(e);l(e)}else if(f.isDiscriminatorForm(t))if("object"!=typeof n||null===n||Array.isArray(n))s(e,"discriminator"),c(e),l(e);else if(n.hasOwnProperty(t.discriminator)){const r=n[t.discriminator];"string"==typeof r?r in t.mapping?(s(e,"mapping"),s(e,r),o(e,t.mapping[r],n,t.discriminator),l(e),l(e)):(s(e,"mapping"),i(e,t.discriminator),c(e),a(e),l(e)):(s(e,"discriminator"),i(e,t.discriminator),c(e),a(e),l(e))}else s(e,"discriminator"),c(e),l(e)}function r(e,t,n,o){("number"!=typeof t||!Number.isInteger(t)||t<n||t>o)&&c(e)}function i(e,t){e.instanceTokens.push(t)}function a(e){e.instanceTokens.pop()}function s(e,t){e.schemaTokens[e.schemaTokens.length-1].push(t)}function l(e){e.schemaTokens[e.schemaTokens.length-1].pop()}function c(e){if(e.errors.push({instancePath:[...e.instanceTokens],schemaPath:[...e.schemaTokens[e.schemaTokens.length-1]]}),e.errors.length===e.config.maxErrors)throw new v}var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.MaxDepthExceededError=void 0;const _=u(n(944)),f=n(559);class p extends Error{}t.MaxDepthExceededError=p;class v extends Error{}t.validate=function(e,t,n){const r={errors:[],instanceTokens:[],schemaTokens:[[]],root:e,config:n||{maxDepth:0,maxErrors:0}};try{o(r,e,t)}catch(e){if(!(e instanceof v))throw e}return r.errors}},609:(e,t,n)=>{"use strict";function o(e,t){for(var n in t)e[n]=t[n];return e}function r(e){var t=e.parentNode;t&&t.removeChild(e)}function i(e,t,n){var o,r,i,s={};for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?E.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===s[i]&&(s[i]=e.defaultProps[i]);return a(e,s,o,r,null)}function a(e,t,n,o,r){var i={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++S:r};return null==r&&null!=j.vnode&&j.vnode(i),i}function s(e){return e.children}function l(e,t){this.props=e,this.context=t}function c(e,t){if(null==t)return e.__?c(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?c(e):null}function u(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return u(e)}}function _(e){(!e.__d&&(e.__d=!0)&&O.push(e)&&!f.__r++||P!==j.debounceRendering)&&((P=j.debounceRendering)||setTimeout)(f)}function f(){for(var e;f.__r=O.length;)e=O.sort((function(e,t){return e.__v.__b-t.__v.__b})),O=[],e.some((function(e){var t,n,r,i,a,s;e.__d&&(a=(i=(t=e).__v).__e,(s=t.__P)&&(n=[],(r=o({},i)).__v=i.__v+1,b(s,i,r,t.__n,void 0!==s.ownerSVGElement,null!=i.__h?[a]:null,n,null==a?c(i):a,i.__h),k(n,i),i.__e!=a&&u(i)))}))}function p(e,t,n,o,r,i,l,u,_,f){var p,h,m,y,g,k,w,N=o&&o.__k||A,I=N.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(y=n.__k[p]=null==(y=t[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?a(null,y,null,null,y):Array.isArray(y)?a(s,{children:y},null,null,null):y.__b>0?a(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(m=N[p])||m&&y.key==m.key&&y.type===m.type)N[p]=void 0;else for(h=0;h<I;h++){if((m=N[h])&&y.key==m.key&&y.type===m.type){N[h]=void 0;break}m=null}b(e,y,m=m||T,r,i,l,u,_,f),g=y.__e,(h=y.ref)&&m.ref!=h&&(w||(w=[]),m.ref&&w.push(m.ref,null,y),w.push(h,y.__c||g,y)),null!=g?(null==k&&(k=g),"function"==typeof y.type&&y.__k===m.__k?y.__d=_=v(y,_,e):_=d(e,y,m,N,g,_),"function"==typeof n.type&&(n.__d=_)):_&&m.__e==_&&_.parentNode!=e&&(_=c(m))}for(n.__e=k,p=I;p--;)null!=N[p]&&x(N[p],N[p]);if(w)for(p=0;p<w.length;p++)C(w[p],w[++p],w[++p])}function v(e,t,n){for(var o,r=e.__k,i=0;r&&i<r.length;i++)(o=r[i])&&(o.__=e,t="function"==typeof o.type?v(o,t,n):d(n,o,o,r,o.__e,t));return t}function d(e,t,n,o,r,i){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||r!=i||null==r.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(r),a=null;else{for(s=i,l=0;(s=s.nextSibling)&&l<o.length;l+=2)if(s==r)break e;e.insertBefore(r,i),a=i}return void 0!==a?a:r.nextSibling}function h(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||Y.test(t)?n:n+"px"}function m(e,t,n,o,r){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||h(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||h(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o||e.addEventListener(t,i?g:y,i):e.removeEventListener(t,i?g:y,i);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function y(e){this.l[e.type+!1](j.event?j.event(e):e)}function g(e){this.l[e.type+!0](j.event?j.event(e):e)}function b(e,t,n,r,i,a,c,u,_){var f,v,d,h,m,y,g,b,k,C,x,I,D,E,S,O=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(_=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(f=j.__b)&&f(t);try{e:if("function"==typeof O){if(b=t.props,k=(f=O.contextType)&&r[f.__c],C=f?k?k.props.value:f.__:r,n.__c?g=(v=t.__c=n.__c).__=v.__E:("prototype"in O&&O.prototype.render?t.__c=v=new O(b,C):(t.__c=v=new l(b,C),v.constructor=O,v.render=N),k&&k.sub(v),v.props=b,v.state||(v.state={}),v.context=C,v.__n=r,d=v.__d=!0,v.__h=[],v._sb=[]),null==v.__s&&(v.__s=v.state),null!=O.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=o({},v.__s)),o(v.__s,O.getDerivedStateFromProps(b,v.__s))),h=v.props,m=v.state,d)null==O.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==O.getDerivedStateFromProps&&b!==h&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(b,C),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(b,v.__s,C)||t.__v===n.__v){for(v.props=b,v.state=v.__s,t.__v!==n.__v&&(v.__d=!1),v.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),x=0;x<v._sb.length;x++)v.__h.push(v._sb[x]);v._sb=[],v.__h.length&&c.push(v);break e}null!=v.componentWillUpdate&&v.componentWillUpdate(b,v.__s,C),null!=v.componentDidUpdate&&v.__h.push((function(){v.componentDidUpdate(h,m,y)}))}if(v.context=C,v.props=b,v.__v=t,v.__P=e,I=j.__r,D=0,"prototype"in O&&O.prototype.render){for(v.state=v.__s,v.__d=!1,I&&I(t),f=v.render(v.props,v.state,v.context),E=0;E<v._sb.length;E++)v.__h.push(v._sb[E]);v._sb=[]}else do{v.__d=!1,I&&I(t),f=v.render(v.props,v.state,v.context),v.state=v.__s}while(v.__d&&++D<25);v.state=v.__s,null!=v.getChildContext&&(r=o(o({},r),v.getChildContext())),d||null==v.getSnapshotBeforeUpdate||(y=v.getSnapshotBeforeUpdate(h,m)),S=null!=f&&f.type===s&&null==f.key?f.props.children:f,p(e,Array.isArray(S)?S:[S],t,n,r,i,a,c,u,_),v.base=t.__e,t.__h=null,v.__h.length&&c.push(v),g&&(v.__E=v.__=null),v.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=w(n.__e,t,n,r,i,a,c,_);(f=j.diffed)&&f(t)}catch(e){t.__v=null,(_||null!=a)&&(t.__e=u,t.__h=!!_,a[a.indexOf(u)]=null),j.__e(e,t,n)}}function k(e,t){j.__c&&j.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){j.__e(e,t.__v)}}))}function w(e,t,n,o,i,a,s,l){var u,_,f,v=n.props,d=t.props,h=t.type,y=0;if("svg"===h&&(i=!0),null!=a)for(;y<a.length;y++)if((u=a[y])&&"setAttribute"in u==!!h&&(h?u.localName===h:3===u.nodeType)){e=u,a[y]=null;break}if(null==e){if(null===h)return document.createTextNode(d);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),a=null,l=!1}if(null===h)v===d||l&&e.data===d||(e.data=d);else{if(a=a&&E.call(e.childNodes),_=(v=n.props||T).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!l){if(null!=a)for(v={},y=0;y<e.attributes.length;y++)v[e.attributes[y].name]=e.attributes[y].value;(f||_)&&(f&&(_&&f.__html==_.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||m(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||m(e,i,t[i],n[i],o)}(e,d,v,i,l),f)t.__k=[];else if(y=t.props.children,p(e,Array.isArray(y)?y:[y],t,n,o,i&&"foreignObject"!==h,a,s,a?a[0]:n.__k&&c(n,0),l),null!=a)for(y=a.length;y--;)null!=a[y]&&r(a[y]);l||("value"in d&&void 0!==(y=d.value)&&(y!==e.value||"progress"===h&&!y||"option"===h&&y!==v.value)&&m(e,"value",y,v.value,!1),"checked"in d&&void 0!==(y=d.checked)&&y!==e.checked&&m(e,"checked",y,v.checked,!1))}return e}function C(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){j.__e(e,n)}}function x(e,t,n){var o,i;if(j.unmount&&j.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||C(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){j.__e(e,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&x(o[i],t,n||"function"!=typeof e.type);n||null==e.__e||r(e.__e),e.__=e.__e=e.__d=void 0}function N(e,t,n){return this.constructor(e,n)}function I(e,t,n){var o,r,a;j.__&&j.__(e,t),r=(o="function"==typeof n)?null:n&&n.__k||t.__k,a=[],b(t,e=(!o&&n||t).__k=i(s,null,[e]),r||T,T,void 0!==t.ownerSVGElement,!o&&n?[n]:r?null:t.firstChild?E.call(t.childNodes):null,a,!o&&n?n:r?r.__e:t.firstChild,o),k(a,e)}function D(e,t){var n={__c:t="__cC"+M++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,o;return this.getChildContext||(n=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(_)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}n.d(t,{HY:()=>s,YM:()=>j,h:()=>i,kr:()=>D,sY:()=>I,wA:()=>l});var E,j,S,O,P,M,T={},A=[],Y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;E=A.slice,j={__e:function(e,t,n,o){for(var r,i,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),a=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),a=r.__d),a)return r.__E=r}catch(t){e=t}throw e}},S=0,l.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=o({},this.state),"function"==typeof e&&(e=e(o({},n),this.props)),e&&o(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),_(this))},l.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_(this))},l.prototype.render=s,O=[],f.__r=0,M=0}},n={};e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function t(e){return e.type===R.HY?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}function n(){return W.length>0?W[W.length-1]:null}function o(e){return"function"==typeof e.type&&e.type!=R.HY}function r(e){for(var n=[e],o=e;null!=o.__o;)n.push(o.__o),o=o.__o;return n.reduce((function(e,n){e+="  in "+t(n);var o=n.__source;return o?e+=" (at "+o.fileName+":"+o.lineNumber+")":B||(B=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"}),"")}function i(e){return e?"function"==typeof e.type?i(e.__):e:{}}function a(e){var n=e.props,o=t(e),r="";for(var i in n)if(n.hasOwnProperty(i)&&"children"!==i){var a=n[i];"function"==typeof a&&(a="function "+(a.displayName||a.name)+"() {}"),a=Object(a)!==a||a.toString?a+"":Object.prototype.toString.call(a),r+=" "+i+"="+JSON.stringify(a)}var s=n.children;return"<"+o+r+(s&&s.length?">..</"+o+">":" />")}function s(e,t){R.YM.__h&&R.YM.__h(Q,e,ee||t),ee=0;var n=Q.__H||(Q.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ne}),n.__[e]}function l(e){return ee=1,function(e,t,n){var o=s(X++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):g(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=Q,!Q.u)){Q.u=!0;var r=Q.shouldComponentUpdate;Q.shouldComponentUpdate=function(e,t,n){if(!o.__c.__H)return!0;var i=o.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var a=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),!(!a&&o.__c.props===e)&&(!r||r.call(this,e,t,n))}}return o.__N||o.__}(g,e)}function c(e,t){var n=s(X++,3);!R.YM.__s&&y(n.__H,t)&&(n.__=e,n.i=t,Q.__H.__h.push(n))}function u(e){return ee=5,_((function(){return{current:e}}),[])}function _(e,t){var n=s(X++,7);return y(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function f(e,t){return ee=8,_((function(){return e}),t)}function p(e){var t=Q.context[e.__c],n=s(X++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Q)),t.props.value):e.__}function v(){for(var e;e=te.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(h),e.__H.__h.forEach(m),e.__H.__h=[]}catch(t){e.__H.__h=[],R.YM.__e(t,e.__v)}}function d(e){var t,n=function(){clearTimeout(o),ue&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);ue&&(t=requestAnimationFrame(n))}function h(e){var t=Q,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Q=t}function m(e){var t=Q;e.__c=e.__(),Q=t}function y(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function g(e,t){return"function"==typeof t?t(e):t}function b(){throw new Error("Cycle detected")}function k(){if(pe>1)pe--;else{for(var e,t=!1;void 0!==fe;){var n=fe;for(fe=void 0,ve++;void 0!==n;){var o=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&I(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=o}}if(ve=0,pe--,t)throw e}}function w(e){if(pe>0)return e();pe++;try{return e()}finally{k()}}function C(e){if(void 0!==_e){var t=e.n;if(void 0===t||t.t!==_e)return _e.s=t={i:0,S:e,p:void 0,n:_e.s,t:_e,e:void 0,x:void 0,r:t},e.n=t,32&_e.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.p&&(t.p.n=t.n,void 0!==t.n&&(t.n.p=t.p),t.p=void 0,t.n=_e.s,_e.s.p=t,_e.s=t),t}}function x(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function N(e){return new x(e)}function I(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function D(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;void 0!==n&&(t.r=n),t.S.n=t,t.i=-1}}function E(e){for(var t=e.s,n=void 0;void 0!==t;){var o=t.n;-1===t.i?(t.S.U(t),t.n=void 0):(void 0!==n&&(n.p=t),t.p=void 0,t.n=n,n=t),t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=o}e.s=n}function j(e){x.call(this,void 0),this.x=e,this.s=void 0,this.g=de-1,this.f=4}function S(e){return new j(e)}function O(e){var t=e.u;if(e.u=void 0,"function"==typeof t){pe++;var n=_e;_e=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,P(e),t}finally{_e=n,k()}}}function P(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,O(e)}function M(e){if(_e!==this)throw new Error("Out-of-order effect");E(this),_e=e,this.f&=-2,8&this.f&&P(this),k()}function T(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function A(e){var t=new T(e);return t.c(),t.d.bind(t)}function Y(e,t){R.YM[e]=t.bind(null,R.YM[e]||function(){})}function U(e){ce&&ce(),ce=e&&e.S()}function H(e){var t=this,n=e.data,o=function(e){return _((function(){return N(e)}),[])}(n);o.value=n;var r=_((function(){for(var e=t.__v;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return t.__$u.c=function(){t.base.data=r.peek()},S((function(){var e=o.value.value;return 0===e?0:!0===e?"":e||""}))}),[]);return r.value}function F(e,t,n,o){var r=t in e&&void 0===e.ownerSVGElement,i=N(n);return{o:function(e,t){i.value=e,o=t},d:A((function(){var n=i.value.value;o[t]!==n&&(o[t]=n,r?e[t]=n:n?e.setAttribute(t,n):e.removeAttribute(t))}))}}function L(e){var t=u(e);return t.current=e,le.__$f|=4,_((function(){return S((function(){return t.current()}))}),[])}var R=e(609);"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.11.2",R.YM,{Fragment:R.HY,Component:R.wA});var $={},W=[],V=[],B=!1,J="function"==typeof WeakMap,z=R.wA.prototype.setState;R.wA.prototype.setState=function(e,t){return null==this.__v&&null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+r(n())),z.call(this,e,t)};var q=R.wA.prototype.forceUpdate;R.wA.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+r(n())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+r(this.__v)),q.call(this,e)},function(){!function(){var e=R.YM.__b,t=R.YM.diffed,n=R.YM.__,r=R.YM.vnode,i=R.YM.__r;R.YM.diffed=function(e){o(e)&&V.pop(),W.pop(),t&&t(e)},R.YM.__b=function(t){o(t)&&W.push(t),e&&e(t)},R.YM.__=function(e,t){V=[],n&&n(e,t)},R.YM.vnode=function(e){e.__o=V.length>0?V[V.length-1]:null,r&&r(e)},R.YM.__r=function(e){o(e)&&V.push(e),i&&i(e)}}();var e=!1,n=R.YM.__b,s=R.YM.diffed,l=R.YM.vnode,c=R.YM.__e,u=R.YM.__,_=R.YM.__h,f=J?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,p=[];R.YM.__e=function(e,n,o,i){if(n&&n.__c&&"function"==typeof e.then){var a=e;e=new Error("Missing Suspense. The throwing component was: "+t(n));for(var s=n;s;s=s.__)if(s.__c&&s.__c.__c){e=a;break}if(e instanceof Error)throw e}try{(i=i||{}).componentStack=r(n),c(e,n,o,i),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},R.YM.__=function(e,n){if(!n)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var o;switch(n.nodeType){case 1:case 11:case 9:o=!0;break;default:o=!1}if(!o){var r=t(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+n+" instead: render(<"+r+" />, "+n+");")}u&&u(e,n)},R.YM.__b=function(o){var s=o.type,l=i(o.__);if(e=!0,void 0===s)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+a(o)+"\n\n"+r(o));if(null!=s&&"object"==typeof s){if(void 0!==s.__k&&void 0!==s.__e)throw new Error("Invalid type passed to createElement(): "+s+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+t(o)+" = "+a(s)+";\n  let vnode = <My"+t(o)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+r(o));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(s)?"array":s))}if("thead"!==s&&"tfoot"!==s&&"tbody"!==s||"table"===l.type?"tr"===s&&"thead"!==l.type&&"tfoot"!==l.type&&"tbody"!==l.type&&"table"!==l.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+a(o)+"\n\n"+r(o)):"td"===s&&"tr"!==l.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+a(o)+"\n\n"+r(o)):"th"===s&&"tr"!==l.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+a(o)+"\n\n"+r(o)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+a(o)+"\n\n"+r(o)),void 0!==o.ref&&"function"!=typeof o.ref&&"object"!=typeof o.ref&&!("$$typeof"in o))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof o.ref+"] instead\n"+a(o)+"\n\n"+r(o));if("string"==typeof o.type)for(var c in o.props)if("o"===c[0]&&"n"===c[1]&&"function"!=typeof o.props[c]&&null!=o.props[c])throw new Error("Component's \""+c+'" property should be a function, but got ['+typeof o.props[c]+"] instead\n"+a(o)+"\n\n"+r(o));if("function"==typeof o.type&&o.type.propTypes){if("Lazy"===o.type.displayName&&f&&!f.lazyPropTypes.has(o.type)){var u="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var _=o.type();f.lazyPropTypes.set(o.type,!0),console.warn(u+"Component wrapped in lazy() is "+t(_))}catch(e){console.warn(u+"We will log the wrapped component's name once it is loaded.")}}var p=o.props;o.type.__f&&delete(p=function(e,t){for(var n in t)e[n]=t[n];return e}({},p)).ref,function(e,t,n,o,r){Object.keys(e).forEach((function(n){var i;try{i=e[n](t,n,o,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){i=e}i&&!(i.message in $)&&($[i.message]=!0,console.error("Failed prop type: "+i.message+(r&&"\n"+r()||"")))}))}(o.type.propTypes,p,0,t(o),(function(){return r(o)}))}n&&n(o)},R.YM.__h=function(t,n,o){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");_&&_(t,n,o)};var v=function(e,t){return{get:function(){var n="get"+e+t;p&&p.indexOf(n)<0&&(p.push(n),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var n="set"+e+t;p&&p.indexOf(n)<0&&(p.push(n),console.warn("setting vnode."+e+" is not allowed, "+t))}}},d={nodeName:v("nodeName","use vnode.type"),attributes:v("attributes","use vnode.props"),children:v("children","use vnode.props.children")},h=Object.create({},d);R.YM.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var n=e.props={};for(var o in t){var r=t[o];"__source"===o?e.__source=r:"__self"===o?e.__self=r:n[o]=r}}e.__proto__=h,l&&l(e)},R.YM.diffed=function(t){if(t.__k&&t.__k.forEach((function(e){if(e&&void 0===e.type){delete e.__,delete e.__b;var n=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+n+"}.\n\n"+r(t))}})),e=!1,s&&s(t),null!=t.__k)for(var n=[],o=0;o<t.__k.length;o++){var i=t.__k[o];if(i&&null!=i.key){var l=i.key;if(-1!==n.indexOf(l)){console.error('Following component has two or more children with the same key attribute: "'+l+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+a(t)+"\n\n"+r(t));break}n.push(l)}}}}();const K={app:"app__JeJHz","app-pane":"app-pane__eVWfW",appPane:"app-pane__eVWfW","convos-pane":"convos-pane__T2pbX",convosPane:"convos-pane__T2pbX","messages-pane":"messages-pane__Qqipz",messagesPane:"messages-pane__Qqipz","command-box-pane":"command-box-pane__dIbHH",commandBoxPane:"command-box-pane__dIbHH","characters-pane":"characters-pane__yTeOJ",charactersPane:"characters-pane__yTeOJ"};var X,Q,G,Z,ee=0,te=[],ne=[],oe=R.YM.__b,re=R.YM.__r,ie=R.YM.diffed,ae=R.YM.__c,se=R.YM.unmount;R.YM.__b=function(e){"function"!=typeof e.type||e.__m||null===e.__?e.__m||(e.__m=e.__&&e.__.__m?e.__.__m:""):e.__m=(e.__&&e.__.__m?e.__.__m:"")+(e.__&&e.__.__k?e.__.__k.indexOf(e):0),Q=null,oe&&oe(e)},R.YM.__r=function(e){re&&re(e),X=0;var t=(Q=e.__c).__H;t&&(G===Q?(t.__h=[],Q.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=ne,e.__N=e.i=void 0}))):(t.__h.forEach(h),t.__h.forEach(m),t.__h=[])),G=Q},R.YM.diffed=function(e){ie&&ie(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==te.push(t)&&Z===R.YM.requestAnimationFrame||((Z=R.YM.requestAnimationFrame)||d)(v)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==ne&&(e.__=e.__V),e.i=void 0,e.__V=ne}))),G=Q=null},R.YM.__c=function(e,t){t.some((function(e){try{e.__h.forEach(h),e.__h=e.__h.filter((function(e){return!e.__||m(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],R.YM.__e(n,e.__v)}})),ae&&ae(e,t)},R.YM.unmount=function(e){se&&se(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{h(e)}catch(e){t=e}})),n.__H=void 0,t&&R.YM.__e(t,n.__v))};var le,ce,ue="function"==typeof requestAnimationFrame,_e=void 0,fe=void 0,pe=0,ve=0,de=0;x.prototype.h=function(){return!0},x.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},x.prototype.U=function(e){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)},x.prototype.subscribe=function(e){var t=this;return A((function(){var n=t.value,o=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=o}}))},x.prototype.valueOf=function(){return this.value},x.prototype.toString=function(){return this.value+""},x.prototype.peek=function(){return this.v},Object.defineProperty(x.prototype,"value",{get:function(){var e=C(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){ve>100&&b(),this.v=e,this.i++,de++,pe++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{k()}}}}),(j.prototype=new x).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===de)return!0;if(this.g=de,this.f|=1,this.i>0&&!I(this))return this.f&=-2,!0;var e=_e;try{D(this),_e=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return _e=e,E(this),this.f&=-2,!0},j.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}x.prototype.S.call(this,e)},j.prototype.U=function(e){if(x.prototype.U.call(this,e),void 0===this.t){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},j.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},j.prototype.peek=function(){if(this.h()||b(),16&this.f)throw this.v;return this.v},Object.defineProperty(j.prototype,"value",{get:function(){1&this.f&&b();var e=C(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),T.prototype.c=function(){var e=this.S();try{8&this.f||void 0===this.x||(this.u=this.x())}finally{e()}},T.prototype.S=function(){1&this.f&&b(),this.f|=1,this.f&=-9,O(this),D(this),pe++;var e=_e;return _e=this,M.bind(this,e)},T.prototype.N=function(){2&this.f||(this.f|=2,this.o=fe,fe=this)},T.prototype.d=function(){this.f|=8,1&this.f||P(this)},H.displayName="_st",Object.defineProperties(x.prototype,{constructor:{configurable:!0},type:{configurable:!0,value:H},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),Y("__b",(function(e,t){if("string"==typeof t.type){var n,o=t.props;for(var r in o)if("children"!==r){var i=o[r];i instanceof x&&(n||(t.__np=n={}),n[r]=i,o[r]=i.peek())}}e(t)})),Y("__r",(function(e,t){U();var n,o=t.__c;o&&(o.__$f&=-2,void 0===(n=o.__$u)&&(o.__$u=n=function(){var e;return A((function(){e=this})),e.c=function(){o.__$f|=1,o.setState({})},e}())),le=o,U(n),e(t)})),Y("__e",(function(e,t,n,o){U(),le=void 0,e(t,n,o)})),Y("diffed",(function(e,t){var n;if(U(),le=void 0,"string"==typeof t.type&&(n=t.__e)){var o=t.__np,r=t.props;if(o){var i=n.U;if(i)for(var a in i){var s=i[a];void 0===s||a in o||(s.d(),i[a]=void 0)}else n.U=i={};for(var l in o){var c=i[l],u=o[l];void 0===c?(c=F(n,l,u,r),i[l]=c):c.o(u,r)}}}e(t)})),Y("unmount",(function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var o=n.U;if(o)for(var r in n.U=void 0,o){var i=o[r];i&&i.d()}}}else{var a=t.__c;if(a){var s=a.__$u;s&&(a.__$u=void 0,s.d())}}e(t)})),Y("__h",(function(e,t,n,o){o<3&&(t.__$f|=2),e(t,n,o)})),R.wA.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var o in t)return!0;for(var r in e)if("__source"!==r&&e[r]!==this.props[r])return!0;for(var i in this.props)if(!(i in e))return!0;return!1};const he="command-box__X2C1t",me=new Uint32Array(2),ye=()=>(crypto.getRandomValues(me),("0000000"+me[0].toString(32)).slice(-7)+("0000000"+me[1].toString(32)).slice(-7)),ge=(e,t="New Character")=>{w((()=>{const n=ye();e.chars.value=[...e.chars.value,{id:n,name:t,color:16777215}],e.currentCharID.value=n}))},be=e=>{w((()=>{const t={messages:[],id:ye(),name:"New Convo"};e.convos.value={...e.convos.value,[t.id]:t},e.convoIDs.value=[...e.convoIDs.value,t.id],e.currentConvoID.value=t.id}))},ke=(e,t,n)=>{w((()=>{null===e.currentConvoID.value&&be(e),null===e.currentCharID.value&&ge(e);const o=e.convos.value[e.currentConvoID.value],r=o.messages.slice(0),i={authorID:e.currentCharID.value,contents:t,id:ye()};"number"==typeof n?r.splice(n,0,i):r.push(i),e.convos.value={...e.convos.value,[e.currentConvoID.value]:{...o,messages:r}}}))},we=(e,t,n,o)=>{const r=e.convos.value[t],i=r.messages.slice(0);i[n]={...i[n],contents:o},e.convos.value={...e.convos.value,[t]:{...r,messages:i}}},Ce=(e,t)=>{e.currentCharID.value=t},xe=({projectName:e,version:t,convos:n,chars:o})=>JSON.stringify({projectName:e,version:t,convos:n,chars:o});var Ne=e(454);const Ie={properties:{version:{type:"uint32"},projectName:{type:"string"},convos:{elements:{properties:{messages:{elements:{properties:{authorID:{type:"string"},contents:{type:"string"},id:{type:"string"}}}},id:{type:"string"},name:{type:"string"}}}},chars:{elements:{properties:{id:{type:"string"},name:{type:"string"},color:{type:"uint32"}}}}}},De=e=>(0,Ne.validate)(Ie,e),Ee=(e,t)=>{w((()=>{const n={};for(const e of t.convos)n[e.id]=e;e.projectName.value=t.projectName,e.convos.value=n,e.convoIDs.value=t.convos.map((e=>e.id)),e.chars.value=t.chars}))},je=(()=>{const e={version:N(2),projectName:N("New Project"),convos:N({}),convoIDs:N([]),chars:N([]),currentConvoID:N(null),currentCharID:N(null),editedMessageID:N(null),editedConvoID:N(null),editedCharID:N(null),exportedConvoID:N(null),toBeReplacedCharID:N(null),insertAboveMessageID:N(null),exportConvoSettings:{wrapTextEnabled:N(!1),wrapTextLength:N(80),justifyEnabled:N(!0),justifySide:N("left")}};(e=>{const t=localStorage.getItem("store");if(!t)return;const n=JSON.parse(t);if(1===n.version){const e=n.convos;n.convos={},n.convoIDs=[];for(const t of e)n.convos[t.id]=t,n.convoIDs.push(t.id);n.version=2}2===n.version&&(w((()=>{e.convos.value=n.convos,e.convoIDs.value=n.convoIDs,e.chars.value=n.chars,e.projectName.value=n.projectName})),localStorage.removeItem("store"))})(e);const t=localStorage.getItem("autosave");if(t){const n=JSON.parse(t);0===De(n).length&&Ee(e,n)}return e})();A((()=>{const{projectName:e,convos:t,convoIDs:n,chars:o}=je,r=xe({projectName:e.value,version:1,convos:n.value.map((e=>t.value[e])),chars:o.value});localStorage.setItem("autosave",r)}));const Se=(0,R.kr)(je),Oe=()=>p(Se),Pe=e=>{const t=p(Se);return _((()=>e.bind(null,t)),[t])};var Me=e(609).h;const Te=({beforeMessage:e})=>{const{currentCharID:t,chars:n,currentConvoID:o,convos:r}=Oe(),i=Pe(ge),a=Pe(ke),s=Pe(we),c=Pe(Ce),_=u(null),[f,p]=l("");return Me("textarea",{className:he,onKeyPress:l=>{if("Enter"===l.code&&!l.shiftKey){l.preventDefault();let u=f;const _=/([^:]+):(?:\s+)(.+)/g.exec(u);if(_){const e=_[1],t=e.toLowerCase(),o=n.value.find((e=>e.name.toLowerCase()===t));o?c(o.id):i(e),u=_[2]}const v=/^s\/([^/]+)\/([^/]+)\/?$/.exec(u);if(v){const{messages:n}=r.value[o.value];for(let r=e||n.length-1;r>=0;r--)if(n[r].authorID===t.value)return s(o.value,r,n[r].contents.split(v[1]).join(v[2])),void p("")}return p(""),void a(u,e)}},onInput:e=>{p(e.target.value)},onKeyDown:e=>{if("Tab"===e.code){e.preventDefault();const t=f.toLowerCase();if(-1===t.indexOf(":")&&null===_.current&&(_.current={characters:n.value.filter((e=>e.name.toLowerCase().startsWith(t))),index:0}),!_.current||0===_.current.characters.length)return;const o=_.current.characters[_.current.index];_.current.index=(_.current.index+1)%_.current.characters.length,p(`${o.name}: `)}else _.current=null},value:f})},Ae={divider:"divider__l7yCf",character:"character__atbwd",active:"active__DI5ru","character-name":"character-name__aOTHW",characterName:"character-name__aOTHW"},Ye="icon__l3rTB",Ue="icon-button__HjReh",He="disabled__GoHq2",Fe="delete__zP7dI",Le="edit__i_k8T",Re="insert-above__ENi4b",$e="load__hUYQ8",We="save__iEoYK",Ve="export__aEQp2";var Be=e(588),Je=e.n(Be);const ze=(e,t,n)=>w((()=>{const o=e.chars.value,r=o.findIndex((e=>e.id===t));e.chars.value=o.filter((e=>e.id!==t)),e.currentCharID.value=n||(1===o.length?null:r===o.length-1?o[o.length-2].id:o[r+1].id)})),qe=(e,t)=>{e.editedCharID.value=t},Ke=(e,t)=>{e.toBeReplacedCharID.value=t},Xe=e=>"#"+("000000"+e.toString(16)).slice(-6);var Qe=e(609).h,Ge=e(609).HY;const Ze=({char:e,active:t,onClick:n,onEdit:o,onDelete:r})=>_((()=>Qe("div",{className:Je()(Ae.character,{[Ae.active]:t}),onClick:n&&(()=>n(e))},Qe("div",{className:Ae.characterName,style:`color: ${Xe(e.color)}`},e.name),Qe("div",{className:Je()(Ae.edit,Ye,Ue,Le),onClick:o&&(()=>o(e))}),Qe("div",{className:Je()(Ae.delete,Ye,Ue,Fe,{[He]:!r}),onClick:r?()=>r(e):void 0}))),[e,t,n,o,r]),et=()=>{const{chars:e,currentCharID:t,convos:n,currentConvoID:o}=Oe(),r=Pe(ze),i=Pe(Ce),a=Pe(qe),s=Pe(Ke),{charsInConvo:l,charsNotInConvo:c}=L((()=>{const t=new Set;if(null!==o.value){const e=n.value[o.value];for(const n of e.messages)t.add(n.authorID)}const r=[],i=[];for(const n of e.value)t.has(n.id)?r.push(n):i.push(n);return{charsInConvo:r,charsNotInConvo:i}})).value,u=f((e=>{i(e.id)}),[i]),_=f((e=>{a(e.id)}),[a]),p=f((e=>{for(const t of Object.values(n.value))for(const n of t.messages)if(n.authorID===e.id)return void s(e.id);r(e.id)}),[s,r,n]);return Qe("div",{className:Ae.characterList},l.length>0&&Qe(Ge,null,Qe("div",{className:Ae.divider},"Characters in current convo:"),Qe("div",{className:Ae.characterSublist},l.map((n=>Qe(Ze,{key:n.id,char:n,active:n.id===t.value,onClick:u,onEdit:_,onDelete:e.value.length>1?p:void 0}))))),c.length>0&&Qe(Ge,null,Qe("div",{className:Ae.divider},"Other characters:"),Qe("div",{className:Ae.characterSublist},c.map((n=>Qe(Ze,{key:n.id,char:n,active:n.id===t.value,onClick:u,onEdit:_,onDelete:e.value.length>1?p:void 0}))))))},tt="character-settings__JgFDc",nt="row__zLuUf",ot="label__T8d04",rt="control__C6kFJ",it=(e,t,n)=>{e.chars.value=e.chars.value.map((e=>e.id!==t?e:{...e,...n}))};var at=e(609).h;const st=()=>{const{editedCharID:e,chars:t}=Oe(),n=Pe(it),o=t.value.find((t=>t.id===e.value));return o?at("div",{className:tt},at("div",{className:nt},at("div",{className:ot},"Character name"),at("input",{type:"text",className:rt,value:o.name,onChange:t=>{e.value&&n(e.value,{name:t.target.value})}})),at("div",{className:nt},at("div",{className:ot},"Character color"),at("input",{type:"color",className:rt,value:Xe(o.color),onChange:t=>{e.value&&n(e.value,{color:parseInt(t.target.value.slice(1),16)})}}))):null},lt="convo-list__j6Sov",ct="convos__BRQXe",ut="convo__bZVJO",_t="active__JExB6",ft="convo-name__c8nBG",pt="add-convo-wrapper__U_hhq",vt=(e,t)=>{w((()=>{const{[t]:n,...o}=e.convos.value,r=e.convoIDs.value.findIndex((e=>e===t));e.convos.value=o,e.convoIDs.value=e.convoIDs.value.filter((e=>e!==t)),e.currentConvoID.value=0===e.convoIDs.value.length?null:r===e.convoIDs.value.length?e.convoIDs.value[r-1]:e.convoIDs.value[r]}))},dt=(e,t,n)=>{e.convos.value={...e.convos.value,[t]:{...e.convos.value[t],name:n}}},ht=(e,t)=>{e.currentConvoID.value=t},mt=(e,t)=>{e.editedConvoID.value=void 0===t?e.convos.value[e.currentConvoID.value].id:t},yt=(e,t)=>{e.exportedConvoID.value=t};var gt=e(609).h;const bt=({convo:{id:e,name:t}})=>{const{currentConvoID:n,editedConvoID:o}=Oe(),r=Pe(dt),i=Pe(ht),a=Pe(mt),s=Pe(yt),l=Pe(vt),f=n.value===e,p=o.value===e,v=u(p),d=u(null);return c((()=>{!v.current&&p&&null!==d.current&&d.current.focus(),v.current=p})),_((()=>gt("div",{className:Je()(ut,{[_t]:f}),onClick:i.bind(null,e)},gt("div",{className:ft},p?gt("input",{type:"text",value:t,onInput:t=>r(e,t.target.value),onKeyPress:e=>{"Enter"===e.code&&a(null)},onBlur:()=>a(null),ref:d}):t),gt("div",{className:Je()(Ye,Ue,Ve),onClick:t=>{t.stopPropagation(),s(e)}}),gt("div",{className:Je()(Ye,Ue,Le),onClick:t=>{t.stopPropagation(),a(e)}}),gt("div",{className:Je()(Ye,Ue,Fe),onClick:t=>{t.stopPropagation(),l(e)}}))),[e,t,f,p,d,r,i,a,s,l])},kt=()=>{const{convos:e,convoIDs:t}=Oe(),n=Pe(be),o=L((()=>t.value.map((t=>gt(bt,{key:t,convo:e.value[t]}))))).value,r=_((()=>n.bind(null)),[n]);return _((()=>gt("div",{className:lt},gt("div",{className:ct},o),gt("div",{className:pt},gt("button",{onClick:r},"Add Convo")))),[o,r])},wt={"export-title":"export-title__Kqtsy",exportTitle:"export-title__Kqtsy",row:"row__cbCwA"},Ct=(e,t)=>{e.exportConvoSettings.wrapTextEnabled.value=t},xt=(e,t)=>{e.exportConvoSettings.wrapTextLength.value=t},Nt=(e,t)=>{e.exportConvoSettings.justifyEnabled.value=t},It=(e,t)=>{e.exportConvoSettings.justifySide.value=t},Dt=(e,t)=>{const n=document.createElement("a"),o=URL.createObjectURL(new Blob([t]));n.href=o,n.download=e,n.click(),setTimeout((()=>{window.URL.revokeObjectURL(o)}),0)};var Et=e(609).h;const jt=()=>{const{convos:e,exportedConvoID:t,chars:n,exportConvoSettings:o}=Oe(),{wrapTextEnabled:r,wrapTextLength:i,justifyEnabled:a,justifySide:s}=o,l=Pe(Ct),c=Pe(xt),u=Pe(Nt),_=Pe(It),f=e=>{_(e.target.value)};if(!t.value)return null;return Et("div",{className:wt.exportModal},Et("div",{className:wt.exportTitle},"Export ",`"${e.value[t.value].name}"`),Et("div",{className:wt.row},Et("label",null,Et("input",{type:"checkbox",checked:r,onChange:e=>{l(e.target.checked)}}),"Wrap text at "),Et("input",{type:"number",min:0,onChange:e=>{const t=parseInt(e.target.value);Number.isFinite(t)&&c(t)},disabled:!r,value:i})," chars"),Et("div",{className:wt.row},Et("label",null,Et("input",{type:"checkbox",checked:a,onChange:e=>{u(e.target.checked)}}),"Justify usernames "),Et("label",null,Et("input",{type:"radio",onClick:f,checked:"left"===s.value,disabled:!a,value:"left"})," Left"),Et("label",null,Et("input",{type:"radio",onClick:f,checked:"right"===s.value,disabled:!a,value:"right"})," Right")),Et("div",{className:wt.row},Et("button",{onClick:()=>{if(!t.value)return;const o=e.value[t.value],l=new Set;for(const e of o.messages)l.add(e.authorID);const c=Array.from(l).reduce(((e,t)=>Math.max(e,n.value.find((e=>e.id===t))?.name.length??0)),0),u=[];for(const e of o.messages){const t=n.value.find((t=>t.id===e.authorID))?.name??"Unknown character";let o=`<${t}> `;if(a.value){const e=" ".repeat(c-t.length);"left"===s.value?o+=e:o=e+o}let l=o;if(r.value){const t=/([^\s]+)(\s|$)/g;let n;for(t.lastIndex=0;null!==(n=t.exec(e.contents));)l.length+n[1].length<=i.value?l+=n[0]:(u.push(l.trimEnd()),l=" ".repeat(o.length)+n[0]);l.trimEnd().length>0&&u.push(l.trimEnd())}else u.push(l+e.contents)}const _=u.join("\n");Dt(`${o.name}.txt`,_)}},"Export")))},St="messages__QvVmW",Ot="messages-inner__T5ymp",Pt="insert-box__BVqQD",Mt="close-wrapper__Lige8",Tt="close-positioner__F_Vfd",At="command-box-wrapper__dWK1s",Yt={message:"message__uH2iI",buttons:"buttons__tpv1D",contents:"contents__bXbLz",author:"author__bTxVP","message-edit-wrapper":"message-edit-wrapper__Uq_as",messageEditWrapper:"message-edit-wrapper__Uq_as","message-edit-area":"message-edit-area__UcstZ",messageEditArea:"message-edit-area__UcstZ"},Ut="searchable-menu__MRzCU",Ht="search-bar__lDaLX",Ft="items__BvMBg",Lt="item__YnleD";var Rt=e(609).h;const $t=({items:e,x:t,y:n,onDismiss:o,onClickItem:r})=>{const[i,a]=l(""),s=u(null);c((()=>{s.current&&s.current.focus()}),[]);const p=f((e=>{a(e.target.value)}),[a]),v=f((e=>{!e.currentTarget.contains(e.relatedTarget)&&o&&o()}),[o]);return _((()=>Rt("div",{className:Ut,style:{top:`${n}px`,left:`${t}px`,maxHeight:`calc(100vh - ${n}px)`},onfocusout:v,tabIndex:0},Rt("div",{className:Ht},Rt("input",{type:"text",onInput:p,ref:s})),Rt("div",{className:Ft},e.map((e=>-1===e.value.toLowerCase().indexOf(i)?null:Rt("div",{className:Lt,key:e.id,onClick:r?r.bind(void 0,e.id):void 0},e.value)))))),[e,t,n,i,p,v])},Wt=(e,t)=>{const n=e.convos.value[e.currentConvoID.value],o=n.messages.slice(0);o.splice(t,1),e.convos.value={...e.convos.value,[n.id]:{...n,messages:o}}},Vt=(e,t,n,o)=>{const r=e.convos.value[t],i=r.messages.slice(0);i[n]={...i[n],authorID:o},e.convos.value={...e.convos.value,[t]:{...r,messages:i}}},Bt=(e,t)=>{e.editedMessageID.value=t},Jt=(e,t)=>{e.insertAboveMessageID.value=t};var zt=e(609).h;const qt=({message:e,convoID:t,index:n,elemRef:o})=>{const{chars:r,editedMessageID:i,insertAboveMessageID:a}=Oe(),s=Pe(Wt),p=Pe(we),v=Pe(Vt),d=Pe(Bt),h=Pe(Jt),{id:m,authorID:y,contents:g}=e,b=m===i.value,k=u(b),w=_((()=>r.value.find((e=>e.id===y))||{color:16777215,name:"Unknown Character"}),[r.value,y]),C=u(null),[x,N]=l(null);c((()=>{!k.current&&b&&C.current&&C.current.focus(),k.current=b}));const I=f((e=>{v(t,n,e),N(null)}),[v,N,t,n]),D=f((()=>{N(null)}),[N]),E=_((()=>x?zt($t,{items:r.value.map((({id:e,name:t})=>({id:e,value:t}))),x:x.x,y:x.y,onDismiss:D,onClickItem:I}):null),[r.value,x]);return _((()=>zt("div",{className:Yt.message,ref:o},zt("div",{className:Yt.author,style:`color: ${Xe(w.color)}`,onClick:e=>{const{x:t,y:n,height:o}=e.target.getBoundingClientRect();N((e=>null===e?{x:t,y:n+o}:null))}},w.name),zt("div",{className:Je()(Yt.contents,{[Yt.editable]:b})},b?zt("div",{className:Yt.messageEditWrapper},zt("textarea",{className:Yt.messageEditArea,onKeyPress:e=>{"Enter"===e.code&&!e.shiftKey&&C.current&&(p(t,n,C.current.value),d(null))},onBlur:()=>{C.current&&(p(t,n,C.current.value),d(null))},tabIndex:0,ref:C,value:g})):g),zt("div",{className:Yt.buttons},zt("div",{className:Je()(Ye,Ue,Re),title:"Insert above",onClick:()=>h(a.value===m?null:m)}),zt("div",{className:Je()(Ye,Ue,Le),title:"Edit",onClick:()=>d(i.value===m?null:m)}),zt("div",{className:Je()(Ye,Ue,Fe),title:"Delete",onClick:()=>s(n)})),E)),[w,I,D,E,b])};var Kt=e(609).h;const Xt=({convo:e})=>{const{insertAboveMessageID:t}=Oe(),n=Pe(Jt),o=u(null),r=e?.messages,i=u(r);c((()=>{const e=i.current;e&&r&&e.length+1===r.length&&e[e.length-1]!==r[r.length-1]&&o.current&&o.current.scrollIntoView(),i.current=r}));const a=_((()=>{const i=[];if(r)for(let a=0;a<r.length;a++){const s=r[a];t.value===s.id&&i.push(Kt("div",{className:Pt},Kt("div",{className:Mt},Kt("div",{className:Tt},Kt("div",{className:Je()(Ye,Ue,Fe),title:"Close",onClick:()=>n(null)}))),Kt("div",{className:At},Kt(Te,{beforeMessage:a})))),i.push(Kt(qt,{convoID:e.id,message:s,key:s.id,index:a,elemRef:a===r.length-1?o:void 0}))}return i}),[r,e?.id]);return Kt("div",{className:St},Kt("div",{className:Ot},a))},Qt="modal-bg__m0HV5",Gt="modal-positioner__JC0aj",Zt="modal__ulBpF";var en=e(609).h,tn=e(609).HY;const nn=({onClose:e,children:t})=>en(tn,null,en("div",{className:Qt,onClick:e}),en("div",{className:Gt},en("div",{className:Zt},t))),on={"project-bar":"project-bar__jqnP4",projectBar:"project-bar__jqnP4","project-name":"project-name__uuERj",projectName:"project-name__uuERj",button:"button__MAT5s",error:"error__vb_Q8"},rn=(e,t)=>{e.projectName.value=t};var an=e(609).h;const sn=()=>{const{version:e,projectName:t,convos:n,chars:o}=Oe(),r=Pe(Ee),i=Pe(rn),[a,s]=l(null);return an("div",{className:on.projectBar},an("input",{className:on.projectName,type:"text",value:t,onInput:e=>i(e.target.value)}),an("div",{className:Je()(on.button,Ye,Ue,We),title:"Save",onClick:()=>Dt(`${t.value}.json`,xe({version:e.value,projectName:t.value,convos:Array.from(Object.values(n.value)),chars:o.value}))}),an("div",{className:Je()(on.button,Ye,Ue,$e),title:"Load",onClick:()=>{const e=document.createElement("input");e.type="file",e.addEventListener("change",(e=>{const t=e.target.files;if(t?.length){const e=new FileReader;e.addEventListener("load",(()=>{try{const t=JSON.parse(e.result);if(De(t).length>0)throw new Error("Invalid JSON");r(t)}catch(e){s(e)}})),e.readAsText(t[0])}})),e.click()}}),a?an("div",{className:on.error},an("span",{className:on.errorMessage},a.message),an("div",{className:Je()(Ye,Ue,Fe),onClick:()=>s(null)})):null)},ln={row:"row__etbb0",label:"label__wCXFO"},cn=(e,t,n)=>{const o={};for(const r of Object.values(e.convos.value)){let e=!1,{messages:i}=r;for(let o=0;o<i.length;o++){const r=i[o];r.authorID===t&&(e||(e=!0,i=i.slice(0)),i[o]={...r,authorID:n})}o[r.id]=e?{...r,messages:i}:r}e.convos.value=o};var un=e(609).h;const _n=()=>{const{chars:e,toBeReplacedCharID:t}=Oe(),n=Pe(ze),o=Pe(cn),r=Pe(Ke),[i,a]=l(void 0);return un("div",{className:ln.replaceCharacter},un("div",{className:ln.row},un("div",{className:ln.label},"Replace character ",un("span",{className:ln.oldCharacterName}," with:")),un("select",{onChange:e=>a(e.target.value),value:i??void 0},e.value.map((e=>e.id===t.value?null:un("option",{value:e.id},e.name))))),un("div",null,un("button",{onClick:()=>{t.value&&i&&(o(t.value,i),n(t.value,i),r(null))},disabled:void 0===i},"Replace")))};var fn=e(609).h,pn=e(609).HY;const vn=()=>{const{convos:e,currentConvoID:t,editedCharID:n,toBeReplacedCharID:o,exportedConvoID:r}=Oe(),i=Pe(qe),a=Pe(Ke),s=Pe(yt),l=_((()=>fn("div",{className:K.projectBarPane},fn(sn,null))),[]),c=_((()=>fn("div",{className:K.convosPane},fn(kt,null))),[]),u=_((()=>fn("div",{className:K.commandBoxPane},fn(Te,null))),[]),f=_((()=>fn("div",{className:K.charactersPane},fn(et,null))),[]),p=L((()=>fn(pn,null,null!==n.value?fn(nn,{onClose:()=>i(null)},fn(st,null)):null,null!==o.value?fn(nn,{onClose:()=>a(null)},fn(_n,null)):null,null!==r.value?fn(nn,{onClose:()=>s(null)},fn(jt,null)):null))).value;return fn("div",{className:K.app},l,fn("div",{className:K.appPane},c,fn("div",{className:K.messagesPane},fn(Xt,{convo:null!==t.value?e.value[t.value]:void 0}),u),fn("div",{className:K.charactersPane},f)),p)};var dn=e(609).h;(0,R.sY)(dn((()=>dn(Se.Provider,{value:je},dn(vn,null))),null),document.body)})()})();
//# sourceMappingURL=main.70ee9.js.map